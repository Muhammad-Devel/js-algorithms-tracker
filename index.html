<!doctype html>
<html lang="uz">
  <head>
    <meta charset="UTF-8" />
    <title>JS Algorithms ‚Äì Daily Practice</title>

    <style>
      body {
        position: relative;
        font-family: monospace;
        background: #f5f5f5;
        padding: 20px;
        line-height: 1.6;
      }

      h1 {
        text-align: center;
      }
      .nickname {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(246, 250, 246, 0.514);
        backdrop-filter: blur(5px);
        padding: 4px 12px;
        font-size: 16px;
        font-weight: bold;
      }

      section {
        background: #ffffff;
        padding: 15px;
        margin-bottom: 20px;
        border-left: 5px solid #333;
      }

      pre {
        background: #f0f0f0;
        padding: 10px;
        overflow-x: auto;
      }

      .result {
        background: #e8ffe8;
        padding: 10px;
        margin-top: 10px;
        font-weight: bold;
      }

      .day-title {
        color: #333;
      }
    </style>
  </head>

  <body>
    <span class="nickname">Muhammad J.A</span>
    <h1>üìò JavaScript Algorithms ‚Äì Daily Practice</h1>

    <!-- ===================== 1-KUN ===================== -->
    <section>
      <h2 class="day-title">üü¢ 1-KUN: Min va Max topish</h2>

      <p>
        <b>Masala:</b> Berilgan array ichidan eng kichik va eng katta sonni
        toping.
      </p>

      <pre>
Input: [3, 7, 1, 9, 2]
Output: { min: 1, max: 9 }
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function findMinMax(arr) {
  let min = arr[0];
  let max = arr[0];

  for (let i = 1; i < arr.length; i++) {
    if (arr[i] < min) min = arr[i];
    if (arr[i] > max) max = arr[i];
  }

  return { min, max };
}
  </pre
      >

      <div class="result" id="result-day1"></div>
    </section>

    <!-- ===================== 2-KUN ===================== -->
    <section>
      <h2 class="day-title">üü° 2-KUN: Eng ko‚Äòp takrorlangan son</h2>

      <p><b>Masala:</b> Array ichidan eng ko‚Äòp takrorlangan sonni toping.</p>

      <pre>
Input: [1, 3, 2, 3, 4, 3, 2, 2]
Output: 3
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function mostFrequent(arr) {
  const count = {};
  let maxCount = 0;
  let mostCommon = arr[0];

  for (let i = 0; i < arr.length; i++) {
    const num = arr[i];
    count[num] = (count[num] || 0) + 1;
  }

  for (let key in count) {
    if (count[key] > maxCount) {
      maxCount = count[key];
      mostCommon = Number(key);
    }
  }

  return mostCommon;
}
  </pre
      >

      <div class="result" id="result-day2"></div>
    </section>

    <!-- ===================== 3-KUN ===================== -->
    <section>
      <h2 class="day-title">üîµ 3-KUN: Juft va toq sonlarni ajratish</h2>

      <p>
        <b>Masala:</b> Array ichidagi juft va toq sonlarni alohida arraylarga
        ajrating.
      </p>

      <pre>
Input: [1, 2, 3, 4, 5, 6]
Output: { even: [2,4,6], odd: [1,3,5] }
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function separateEvenOdd(arr) {
  const even = [];
  const odd = [];

  for (let i = 0; i < arr.length; i++) {
    if (arr[i] % 2 === 0) {
      even.push(arr[i]);
    } else {
      odd.push(arr[i]);
    }
  }

  return { even, odd };
}
  </pre
      >

      <div class="result" id="result-day3"></div>
    </section>
    <!-- ===================== 4-KUN ===================== -->
    <section>
      <h2 class="day-title">
        üü£ 4-KUN: Arraydagi Eng ko‚Äòp takrorlangan elementni toping.
      </h2>

      <p>
        <b>Masala:</b> Array berilgan. Eng ko‚Äòp takrorlangan elementni toping.
        Agar bir nechta bo‚Äòlsa ‚Äî bittasini qaytarish yetarli.
      </p>

      <pre>
Input: [1,2,2,3,3]
Output: 3
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function mostFrequent(arr) {
  if (arr.length === 0) return null

  const count = {}
  let maxCount = 0
  let result = arr[0]

  for (const num of arr) {
    count[num] = (count[num] || 0) + 1

    if (
      count[num] > maxCount ||
      (count[num] === maxCount && num > result)
    ) {
      maxCount = count[num]
      result = num
    }
  }

  return result
}
  </pre
      >

      <div class="result" id="result-day4"></div>
    </section>
    <!-- ===================== 5-KUN ===================== -->
    <section>
      <h2 class="day-title">üî¥ 5-KUN: Ikkinchi eng katta elementni topish</h2>

      <p>
        <b>Masala:</b> Berilgan takrorlanishi mumkin bo‚Äòlgan sonlar arrayidan
        ikkinchi eng katta (SECOND MAX) sonni toping.<br />
        ‚ùó Shartlar: <br />
        - Array kamida 2 ta elementdan iborat Agar eng katta son bir necha marta
        takrorlansa: baribir undan kichik bo‚Äòlgan keyingi eng kattasi olinadi
      </p>

      <pre>
Input:  [5, 3, 9, 1, 9, 6, 10, 20]
Output: 10
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function secondLargest(arr) {
  let max = -Infinity
  let second = -Infinity

  for (const num of arr) {
    if (num > max) {
      second = max
      max = num
    } else if (num < max && num > second) {
      second = num
    }
  }

  return second
}
  </pre
      >

      <div class="result" id="result-day5"></div>
    </section>
    <!-- ===================== 6-KUN ===================== -->
    <section>
      <h2 class="day-title">
        üü† 6-KUN: Faqat bitta marta uchraydigan sonni topish
      </h2>

      <p>
        <b>Masala:</b> Berilgan array ichidan faqat 1 marta uchraydigan
        elementni toping.
      </p>

      <pre>
Input: [2, 3, 5, 3, 2, 4, 5]
Output: 4
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function singleNumber(arr) {
  let single = 0

  for (const num of arr) {
    single ^= num
  }
<span style="color: gray;">
/* 
XOR (^) xossalari:

a ^ a = 0

a ^ 0 = a

tartib muhim emas: a ^ b ^ a = b ^ a = a ^ a ^ b = 0 ^ b = b
[2, 3, 5, 3, 2, 4, 5]

= 2^3^5^3^2^4^5
= (2^2)^(3^3)^(5^5)^4
= 0^0^0^4
= 4 ‚úÖ - oddiy va samarali yechim */
</span>
  return single
}
  </pre
      >

      <div class="result" id="result-day6"></div>
    </section>
    <!-- ===================== 7-KUN ===================== -->
    <section>
      <h2 class="day-title">
        üîµ 7-KUN: Array ichida ketma-ket eng uzun o‚Äòsuvchi segment uzunligini topish
      </h2>

      <p>
        <b>Masala:</b> Array ichida ketma-ket eng uzun o‚Äòsuvchi segment uzunligini topish
      </p>

      <pre>
Input: [1, 2, 2, 3, 4, 1, 2, 3, 4, 5]
Output: 5   // [1,2,3,4,5]
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function longestIncreasingSubarray(arr) {
  if (arr.length === 0) return 0

  let currentLength = 1
  let maxLength = 1

  for (let i = 1; i < arr.length; i++) {
    if (arr[i] > arr[i - 1]) {
      currentLength++
    } else {
      currentLength = 1
    }

    if (currentLength > maxLength) {
      maxLength = currentLength
    }
  }

  return maxLength
}

  </pre
      >

      <div class="result" id="result-day7"></div>
    </section>
    <!-- ===================== 8-KUN ===================== -->
    <section>
      <h2 class="day-title">
        üü§ 8-KUN: Array ichida eng uzun bir xil elementlar ketma-ketligi
      </h2>

      <p>
        <b>Masala:</b> Array ichida eng uzun bir xil elementlar ketma-ketligi uzunligini topish
      </p>

      <pre>
Input: [1,1,2,2,2,3,3,3,3,1]
Output: 4   // [3,3,3,3]
  </pre
      >

      <h3>Yechim:</h3>
      <pre>
function longestSameSubarray(arr) {
  if (arr.length === 0) return 0

  let currentLength = 1
  let maxLength = 1

  for (let i = 1; i < arr.length; i++) {
    if (arr[i] === arr[i - 1]) {
      currentLength++
    } else {
      currentLength = 1
    }

    if (currentLength > maxLength) {
      maxLength = currentLength
    }
  }

  return maxLength
}
  </pre
      >

      <div class="result" id="result-day8"></div>
    </section>

    <!-- ===================== SCRIPT ===================== -->
    <script>
      document.querySelectorAll("section").forEach((section) => {
        const pres = section.querySelectorAll("pre");
        const resultDiv = section.querySelector(".result");

        if (!pres.length || !resultDiv) return;

        // 1-pre ichidan input
        const ioText = pres[0].textContent;
        const inputMatch = ioText.match(/Input:\s*(.+)/);
        if (!inputMatch) return;
        let input;
        try {
          input = eval(inputMatch[1].trim());
        } catch (err) {
          resultDiv.textContent = "Input xatosi: " + err.message;
          return;
        }

        // 2-pre = function code
        const funcCode = pres[1].textContent;
        const funcNameMatch = funcCode.match(/function\s+([a-zA-Z0-9_]+)/);
        if (!funcNameMatch) {
          resultDiv.textContent = "Function nomi topilmadi";
          return;
        }

        // barcha funksiyalarni globallashtirish va oxirgisini chaqirish
        try {
          const funcMatches = [
            ...funcCode.matchAll(/function\s+([a-zA-Z0-9_]+)/g),
          ];

          funcMatches.forEach((match) => {
            const funcName = match[1];

            const singleFuncCodeMatch = funcCode.match(
              new RegExp(
                `function\\s+${funcName}\\s*\\([^)]*\\)\\s*{[\\s\\S]*?^}`,
                "m",
              ),
            );
            if (singleFuncCodeMatch) {
              eval(`window.${funcName} = ${singleFuncCodeMatch[0]}`);
            }
          });
          const funcNames = funcMatches.map((match) => match[1]);
          const mainFuncName = funcNames[funcNames.length - 1]; // oxirgi function
          const output = window[mainFuncName](input);
          resultDiv.textContent = "Natija: " + JSON.stringify(output);
        } catch (error) {
          resultDiv.textContent =
            "Functionlarni globallashtirishda xato: " + error.message;
          resultDiv.textContent = "Funksiya ishlashida xato: " + err.message;

          return;
        }
      });
    </script>
  </body>
</html>
